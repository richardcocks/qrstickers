@page
@model QRStickers.Pages.Connections.IndexModel
@{
    ViewData["Title"] = "My Connections";
}

<h1>My Connections</h1>

<p>
    <a href="/Connections/Create" class="btn btn-primary">Add New Connection</a>
</p>

@if (!Model.Connections.Any())
{
    <div class="alert alert-info">
        <p>You haven't connected any accounts yet.</p>
        <p>Click "Add New Connection" above to get started.</p>
    </div>
}
else
{
    <table style="width: 100%; border-collapse: collapse;">
        <thead>
            <tr style="background-color: #f5f5f5; border-bottom: 2px solid #ddd;">
                <th style="padding: 10px; text-align: left;">Display Name</th>
                <th style="padding: 10px; text-align: left;">Type</th>
                <th style="padding: 10px; text-align: center;">Status</th>
                <th style="padding: 10px; text-align: left;">Created</th>
                <th style="padding: 10px; text-align: center;">Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var connection in Model.Connections)
            {
                <tr style="border-bottom: 1px solid #ddd;">
                    <td style="padding: 10px;">
                        <strong>@connection.DisplayName</strong>
                    </td>
                    <td style="padding: 10px;">
                        @connection.ConnectionType
                    </td>
                    <td style="padding: 10px; text-align: center;">
                        @if (connection.IsActive)
                        {
                            <span style="color: #28a745; font-weight: bold;">Active</span>
                        }
                        else
                        {
                            <span style="color: #6c757d;">Inactive</span>
                        }
                    </td>
                    <td style="padding: 10px;">
                        @connection.CreatedAt.ToString("g")
                    </td>
                    <td style="padding: 10px; text-align: center;">
                        @if (connection.ConnectionType == "Meraki")
                        {
                            <a href="/Meraki/Connection?connectionId=@connection.Id" style="margin-right: 10px;">View</a>
                        }
                        <a href="/Connections/Delete?connectionId=@connection.Id" style="color: #dc3545;">Delete</a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
}

<hr />
<p><a href="/">Back to Home</a></p>
