@page
@model QRStickers.Pages.Connections.DeleteModel
@{
    ViewData["Title"] = "Delete Connection";
}

<h1>Delete Connection</h1>

@if (Model.Connection == null)
{
    <p>Connection not found.</p>
}
else
{
    <div class="alert alert-warning">
        <h2>Are you sure you want to delete this connection?</h2>

        <p><strong>Display Name:</strong> @Model.Connection.DisplayName</p>
        <p><strong>Type:</strong> @Model.Connection.ConnectionType</p>
        <p><strong>Created:</strong> @Model.Connection.CreatedAt.ToString("g")</p>

        <p style="margin-top: 20px; color: #721c24;">
            <strong>Warning:</strong> This will permanently delete:
        </p>
        <ul style="color: #721c24;">
            <li>The connection credentials</li>
            <li>All cached organizations, networks, and devices</li>
            <li>Sync status information</li>
        </ul>
        <p style="color: #721c24;">
            <strong>This action cannot be undone.</strong>
        </p>
    </div>

    <form method="post" style="margin-top: 20px;">
        <input type="hidden" name="connectionId" value="@Model.Connection.Id" />

        <div asp-validation-summary="All" class="text-danger"></div>

        <button type="submit"
                style="padding: 10px 20px; background-color: #dc3545; color: white; border: none; border-radius: 4px; cursor: pointer; font-weight: bold;">
            Yes, Delete Connection
        </button>
        <a href="/Connections" style="margin-left: 10px; padding: 10px 20px; background-color: #6c757d; color: white; text-decoration: none; border-radius: 4px; display: inline-block;">
            Cancel
        </a>
    </form>
}

<hr />
<p><a href="/Connections">Back to Connections</a></p>
